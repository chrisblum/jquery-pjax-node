<div id="clubWrapper">
    <div class="row">

        <!-- server messages -->
        <% if (msgs) { %>
        <ul class="alert alert-success">
            <% msgs.forEach(function(msg) { %>
            <li><%- msg %></li>
            <% }) %>
        </ul>
        <% } %>
    </div>

    <!-- the form -->
    <form id="signin_clubForm" pjax-route="ex2_club_post" method="POST" data-abide="ajax">
        <input type="hidden" name="_csrf" value="<%= _csrf %>">

        <div class="row">
            <div class="large-3 columns">

                <!-- REGION -->
                <label for="region">Region
                    <% _v = validations.region || {} %>
                    <select id="region" name="region" size="5" <%- _v.attrs || '' %>>
                        <% (regions || []).forEach(function (row) { %>
                        <option value="<%= row[0] %>"<%= _getSelected(region, row[0]) %>
                                ><%= row[1] %></option>
                        <% }); %>
                    </select>
                    <% if (_v.msg) {%><small class="error"><%= _v.msg %></small><% } %>
                </label>

            </div>
            <div class="large-3 columns">

                <!-- CLUB -->
                <label for="club">Club (1 or more)
                    <% _v = validations.club || {} %>
                    <select id="club" name ="club" multiple size="5" <%- _v.attrs || '' %>>
                        <% (clubs[region] || []).forEach(function (row) { %>
                        <option value="<%= row[0] %>"<%= _getSelected(club, row[0]) %>
                                ><%= row[1] %></option>
                        <% }); %>
                    </select>
                    <% if (_v.msg) {%><small class="error"><%= _v.msg %></small><% } %>
                </label>

            </div>
            <div class="large-3 columns">

                <!-- INPUT -->
                <div>
                    <label for="input">Text field
                        <% _v = validations.input || {} %>
                        <input type="text" id="input" name="input" value="<%= input || 'some text' %>"
                                <%- _v.attrs || '' %>>
                        <small class="error"><%= _v.msg || '' %></small>
                    </label>
                </div>

                <!-- SEX -->
                <div data-abide-toolkit-group>
                    <% _v = validations.sex || {} %>
                    <label for="male">
                        <input id="male" type="radio" name="sex" value="male"
                                <%= _getChecked(sex, 'male') %>
                                <%- _v.attrs || '' %>>Male
                        <% if (_v.msg) {%><small class="error"><%= _v.msg %></small><% } %>
                    </label>
                    <label for="female">
                        <input id="female" type="radio" name="sex" value="female"
                                <%= _getChecked(sex, 'female') %>
                                <%- _v.attrs || '' %>>Female
                        <% if (_v.msg) {%><small class="error"><%= _v.msg %></small><% } %>
                    </label>
                </div>

                <!-- Bound to SEX with CrazyGlue -->
                <input type="text" id="gender" name="gender" disabled>

                <!-- ANIMAL -->
                <div>
                    <!-- Abide <= 5.2.2 cannot check that 1+ checkboxes of a group is selected.
                     You need to check this on the server. -->
                    <label for="dog">
                        <input id="dog" type="checkbox" name="animal" value="dog"
                                <%= _getChecked(animal, 'dog') %>>Dog
                    </label>
                    <label for="cat">
                        <input id="cat" type="checkbox" name="animal" value="cat"
                                <%= _getChecked(animal, 'cat') %>>Cat
                    </label>
                </div>

                <!-- Bound to ANIMAL with CrazyGlue -->
                <input type="text" id="zoo" name="zoo" disabled>

            </div>
            <div class="large-3 columns"></div>
        </div>

        <hr />

        <!-- form buttons -->
        <input id="_button" name="_button" type="hidden">
        <button type="submit" value="player">Player or parent</button>
        <button type="submit" value="coach">Sign in as a coach</button>
    </form>


    <!-- examples of jquery-pjax and jquery-pjax-toolkit anchor tags -->
    <h3>Anchor links:</h3>
    <a href="/ex2/screen1?field1=111&field2=222" pjax-anchor>This is a normal jquery-pjax link (<%= '<a href="/ex2/screen1?field1=111&field2=222" pjax-anchor>' %>)</a>
    <br /><br />
    <a pjax-route="screen1">This is a jquery-pjax-toolkit link (<%= '<a pjax-route="screen1">' %>)</a>
</div>

<!-- example of a responsive table -->
<br/>
<h3>This is a responsive table:</h3>
<table class="responsive">
    <tbody >
    <tr>
        <th>Header 1</th>
        <th>Header 2</th>
        <th>Header 3</th>
        <th>Header 4</th>
        <th>Header 5</th>
        <th>Header 6</th>
        <th>Header 7</th>
        <th>Header 8</th>
    </tr>
    <tr>
        <td>row 1, cell 1</td>
        <td>row 1, cell 2</td>
        <td>row 1, cell 3</td>
        <td>row 1, cell 4</td>
        <td>row 1, cell 5</td>
        <td>row 1, cell 6</td>
        <td>row 1, cell 7</td>
        <td>row 1, cell 8</td>
    </tr>
    <tr>
        <td>row 2, cell 1</td>
        <td>row 2, cell 2</td>
        <td>row 2, cell 3</td>
        <td>row 2, cell 4</td>
        <td>row 2, cell 5</td>
        <td>row 2, cell 6</td>
        <td>row 2, cell 7</td>
        <td>row 2, cell 8</td>
    </tr>
    <tr>
        <td>row 3, cell 1</td>
        <td>row 3, cell 2</td>
        <td>row 3, cell 3</td>
        <td>row 3, cell 4</td>
        <td>row 3, cell 5</td>
        <td>row 3, cell 6</td>
        <td>row 3, cell 7</td>
        <td>row 3, cell 8</td>
    </tr>
    <tr>
        <td>row 4, cell 1</td>
        <td>row 4, cell 2</td>
        <td>row 4, cell 3</td>
        <td>row 4, cell 4</td>
        <td>row 4, cell 5</td>
        <td>row 4, cell 6</td>
        <td>row 4, cell 7</td>
        <td>row 4, cell 8</td>
    </tr>
    </tbody>
</table>

<!-- example of a responsive image -->
<br/>
<h3>This is a responsive image:</h3>
<span data-picture data-alt="A giant stone face at The Bayon temple in Angkor Thom, Cambodia">
    <span data-src="/img/picturefill/small.jpg"></span>
    <span data-src="/img/picturefill/medium.jpg"     data-media="(min-width: 400px)"></span>
    <span data-src="/img/picturefill/large.jpg"      data-media="(min-width: 800px)"></span>
    <span data-src="/img/picturefill/extralarge.jpg" data-media="(min-width: 1000px)"></span>
    <!-- Fallback content for non-JS browsers. Same img src as the initial, unqualified source element. -->
    <noscript>
        <img src="/img/picturefill/small.jpg" alt="A giant stone face at The Bayon temple in Angkor Thom, Cambodia">
    </noscript>
</span>


<!-- this script runs once, providing data to the frontend ex2/club controller -->
<script>
    PJAX.data['ex2/club'] = {
        regions: <%- JSON.stringify(regions) %>,
        clubs: <%- JSON.stringify(clubs) %>
    };
    console.log('-> /ex2/club run-once js executing');
</script>

<!-- this script runs every time the HTML is displayed to the user -->
<script pjax-run-always>
    console.log('-> /ex2/club run-always js executing');
</script>
